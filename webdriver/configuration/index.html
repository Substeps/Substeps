<!DOCTYPE html>

<!--
  ~ =========================================================================================
  ~ Copyright Â© 2015 the Substeps project
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file
  ~ except in compliance with the License. You may obtain a copy of the License at
  ~
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software distributed under the
  ~ License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
  ~ either express or implied. See the License for the specific language governing permissions
  ~ and limitations under the License.
  ~ =========================================================================================
  -->


<html lang="en">
  <head>
    <title>Substeps | Webdriver | Configuration</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Substeps is an open source BDD framework enabling executable features to be composed of libraries of step implementations">

<link rel="shortcut icon" href="/assets/img/favicon.ico">
<link rel="stylesheet" href="/assets/css/bootstrap.min.css">
<!--<link rel="stylesheet" href="/assets/css/syntax-highlight.css">
<link rel="stylesheet" href="/assets/css/font-awesome.min.css">-->

<link href="/assets/css/fontface-static.css" rel="stylesheet" type="text/css"/>
<link href="/assets/css/styles.css" rel="stylesheet" type="text/css"/>

<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>


<!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/assets/js/jquery-2.2.0.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/assets/js/bootstrap.min.js"></script>

<style>

  .vcentre {
    display: inline-block;
    vertical-align: middle;
    float: none;
  }

</style>


<script type="text/javascript">





  function toggleSection(section, spanElem){

    if ( $(spanElem).hasClass("dropup")){
      // collapse

      console.log("collapse")

      $("#" + section).slideUp()


//      $(spanElem).addClass("glyphicon-collapse-down")
      $(spanElem).removeClass("dropup")

    }
    else {

      console.log("expand")
      // expand
      $("#" + section).slideDown()


//      $(spanElem).removeClass("glyphicon-collapse-down")
      $(spanElem).addClass("dropup")

    }


  }

</script>


    <link href="/assets/css/prism-coy.css" rel="stylesheet" />
  </head>
  <body>

    <div class="header">

  <a href="https://github.com/Substeps/substeps-framework">
    <img style="position: absolute; top: 0; right: 0; border: 0;"
         src="https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67" alt="Fork me on GitHub"
      data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"></a>

  <div class="container">
    <div class="row">
      <div class="col-sm-4">
        <div class="logo-wrap">


          <a class="logo" href="/">
            <img src="/assets/img/logo-200x200.png" height="65px" width="65px" alt="logo" />
            <span style ="font-size: 60px; color: black">
            <strong>sub</strong>steps</span>
          </a>

        </div>

      </div>
      <div class="col-sm-8">

      </div>
    </div>
  </div>
</div><!-- /.header -->


    <div class="main">
      <div class="container">
        <div class="row">
          <div class="col-sm-3">
            <!-- this is in a col-sm-3 -->

<label>Introduction</label>

<div id="doc-tree-intro">
  <ul class="dosc-sidebar">
    <li><a href="/introduction/overview/">Overview</a></li>
    <li><a href="/introduction/getting-started/">Getting started</a>
        <ul>
            <li><a href="/introduction/getting-started#exampleproject">Example project</a></li>
        </ul>

      <li>
          <a href="/introduction/running/">Test execution</a>
          <ul>
              <li><a href="/introduction/running#intellij">IntelliJ</a></li>
              <li><a href="/introduction/running#junit">Junit</a></li>
              <li><a href="/introduction/running#maven">Maven</a></li>
              <li><a href="/introduction/running#ant">Ant</a></li>
          </ul>


      </li>
      <li><a href="/test_report/report_frame.html">Example test report</a></li>
       <li><a href="/introduction/intellij-integration/">IntelliJ Integration</a></li>
       <li><a href="/introduction/manual-setup/">Manual setup</a></li>
  </ul>
</div>

<label><a href="/indepth/intro">In depth</a></label>

<div id="doc-tree-in-depth">
    <ul class="dosc-sidebar">

        <li><a href="/indepth/configuration/">Configuration</a></li>

        <li><a href="/indepth/customisation/">Custom steps</a></li>
        <li><a href="/indepth/execution-context">Execution Context</a></li>
        <li><a href="/indepth/setup-tear-down">Setup and tear down</a></li>

        <li><a href="/indepth/tags/">Tags</a></li>
        <li><a href="/indepth/parameter-substitution">Parameter substitution</a></li>

        <li><a href="/indepth/glossary/">Step documentation</a></li>

        <li><a href="http://javadoc.io/doc/org.substeps/substeps-core-api">core-api Javadocs</a></li>
        <li><a href="http://javadoc.io/doc/org.substeps/substeps-core">core Javadocs</a></li>


    </ul>
</div>


<label >Webdriver StepImplementations</label>

<div id="doc-tree-webdriver">
    <ul class="dosc-sidebar">

        <li><a href="/webdriver/introduction/">Introduction</a></li>
        <li><a href="/webdriver/configuration/">Configuration</a></li>
        <li><a href="/webdriver/drivers/">Drivers</a></li>
        <li><a href="/webdriver/step-implementations/">Step implementations summary</a> </li>
        <li><a href="/webdriver/glossary/">Glossary</a> </li>

        <li><a href="http://javadoc.io/doc/org.substeps/webdriver-substeps">webdriver-substeps Javadocs</a></li>
<!--
        <li><a href="/webdriver-substeps-apidocs/">Javadocs</a> </li>
-->
     <!--   <li><a href="/webdriver/hints-and-tips/">Hints and tips</a></li>-->

  </ul>
</div>



<label >Project Information</label>

<div id="doc-tree-proj-info">
    <ul class="dosc-sidebar">

        <li><a href="/introduction/project-info/support/">Support</a></li>
        <li><a href="/introduction/project-info/history/">History</a></li>
        <li><a href="/introduction/project-info/license/">License</a></li>
    </ul>
</div>


<!--</div>-->
<!-- /#docs-tree -->

          </div>
          <div class="col-sm-9">
            <h1 id="webdriver-substeps-configuration">Webdriver-Substeps Configuration</h1>

<p>The webdriver-substeps library extends the <a href="../../indepth/configuration">core substeps configuration</a>; 
there is some general configuration and then per execution config based settings.  See the above link for details on how substeps configuration works.</p>

<h3 id="a-typical-configuration">A typical configuration</h3>

<p>The configurations below are in addition to core substeps configuration which has been ommitted for brevity.<br />
The webdriver substeps example is a good source to illustrate combined substeps and webdriver-substeps configuration.</p>

<p>The example below shows two execution configurations both using remote webdrivers (via a selenium grid for example) with one execution confg running Chrome, the other Firefox.</p>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="n">org</span>.<span class="n">substeps</span> {
  <span class="n">baseExecutionConfig</span> {

    <span class="c"># properties specified here will act as a default for all executionConfig.webdriver elements
</span>    <span class="n">webdriver</span> {
      <span class="n">driver</span>.<span class="n">type</span>=<span class="n">REMOTE</span>
      <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">url</span>=<span class="s2">"http://localhost:4444/wd/hub"</span>
    }
  }

  <span class="n">executionConfigs</span>=[
    {
      <span class="n">dataOutputDir</span>=<span class="s2">"1"</span>  <span class="c"># this is actually core Substeps config
</span>      <span class="n">description</span>=<span class="s2">"Chrome Tests"</span>

      <span class="n">webdriver</span> {
        <span class="c"># the driver type to use
</span>        <span class="c"># driver.type=CHROME # in this case, the value REMOTE from the baseExecutionConfig will be inherited
</span>        <span class="c"># when using a remote driver, this specifies the flavour of remote to use
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">base</span>.<span class="n">capability</span>=<span class="n">chrome</span>
        <span class="c"># the version of the remote browser
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">version</span>=<span class="m">59</span>.<span class="m">0</span>.<span class="m">3071</span>.<span class="m">86</span>
        <span class="c"># the remote driver platform
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">platform</span>=<span class="n">Linux</span>
      }
    },
    {
      <span class="n">dataOutputDir</span>=<span class="s2">"2"</span>
      <span class="n">description</span>=<span class="s2">"Firefox Tests"</span>
    
      <span class="n">webdriver</span> {
        <span class="c"># the driver type to use
</span>        <span class="c"># driver.type=CHROME # in this case, the value REMOTE from the baseExecutionConfig will be inherited
</span>        <span class="c"># when using a remote driver, this specifies the flavour of remote to use
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">base</span>.<span class="n">capability</span>=<span class="n">firefox</span>
        <span class="c"># the version of the remote browser
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">version</span>=<span class="m">45</span>.<span class="m">0</span>
        <span class="c"># the remote driver platform
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">platform</span>=<span class="n">Linux</span>
      }
    }
  ]
  <span class="n">webdriver</span> {

    <span class="c"># file in the classpath that specifies the webdriver-manager properties - used to pin versions of drivers, specify credentials for downloading drivers etc
</span>    <span class="c"># see https://github.com/bonigarcia/webdrivermanager/blob/master/src/main/resources/webdrivermanager.properties
</span>    <span class="n">webdriver</span>.<span class="n">manager</span>.<span class="n">properties</span>=<span class="n">substeps</span>-<span class="n">webdrivermanager</span>.<span class="n">properties</span>

    <span class="c"># base url on top of which NavigateTo urls are appended
</span>    <span class="n">base</span>.<span class="n">url</span>=<span class="s2">"http://substeps.github.io/substeps-webdriver/"</span>
  }
}
</code></pre></div></div>

<h3 id="complete-annotated-configuration">Complete Annotated configuration</h3>

<p>The full set of configuration settings and a description of the settings is maintained in the codebase <a href="https://github.com/Substeps/substeps-webdriver/blob/master/src/test/resources/annotated.conf">here</a> and reproduced here.</p>

<div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">org</span>.<span class="n">substeps</span> {
  <span class="n">baseExecutionConfig</span> {

    <span class="c"># properties specified here will act as a default for all executionConfig.webdriver elements
</span>    <span class="n">webdriver</span> {
      <span class="c"># driver.type=REMOTE
</span>      <span class="c"># remote.driver.url="https://"${remote.username}":"${remote.token}"@ondemand.saucelabs.com:443/wd/hub"
</span>      <span class="c"># remote.driver.url="http://localhost:4444/wd/hub"
</span>      <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">platform</span>=<span class="n">Linux</span>
    }
  }

  <span class="n">executionConfigs</span>=[
    {
      <span class="n">webdriver</span> {
        <span class="c"># the driver type to use
</span>        <span class="n">driver</span>.<span class="n">type</span>=<span class="n">CHROME</span>
        <span class="c"># when using a remote driver, this specifies the flavour of remote to use
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">base</span>.<span class="n">capability</span>=<span class="n">chrome</span>
        <span class="c"># the version of the remote browser
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">version</span>=<span class="m">59</span>.<span class="m">0</span>.<span class="m">3071</span>.<span class="m">86</span>
        <span class="c"># the remote driver platform
</span>        <span class="n">remote</span>.<span class="n">driver</span>.<span class="n">platform</span>=<span class="n">Linux</span>
      }
    },
  ]
  <span class="n">webdriver</span> {

    <span class="c"># file in the classpath that specifies the webdriver-manager properties - used to pin versions of drivers, specify credentials for downloading drivers etc
</span>    <span class="c"># see https://github.com/bonigarcia/webdrivermanager/blob/master/src/main/resources/webdrivermanager.properties
</span>    <span class="n">webdriver</span>.<span class="n">manager</span>.<span class="n">properties</span>=<span class="n">substeps</span>-<span class="n">webdrivermanager</span>.<span class="n">properties</span>

    <span class="c"># base url on top of which NavigateTo urls are appended
</span>    <span class="n">base</span>.<span class="n">url</span>=<span class="s2">"http://substeps.github.io/substeps-webdriver/"</span>

    <span class="c"># array of the default driver factories - don't override these, included here for info
</span>    <span class="n">default</span>.<span class="n">driverFactories</span>= [{
      <span class="c"># the key used to lookup the factory, specified using the org.substeps.executionConfig.driver.type value
</span>      <span class="n">key</span>=<span class="s2">"CHROME"</span>
      <span class="n">class</span>=<span class="s2">"org.substeps.webdriver.ChromeDriverFactory"</span>
    },
      {
        <span class="n">key</span>=<span class="s2">"FIREFOX"</span>
        <span class="n">class</span>=<span class="s2">"org.substeps.webdriver.FirefoxDriverFactory"</span>
      },
      {
        <span class="n">key</span>=<span class="s2">"HTMLUNIT"</span>
        <span class="n">class</span>=<span class="s2">"org.substeps.webdriver.HTMLUnitDriverFactory"</span>
      },
      {
        <span class="n">key</span>=<span class="s2">"IE"</span>
        <span class="n">class</span>=<span class="s2">"org.substeps.webdriver.IEDriverFactory"</span>
      },
      {
        <span class="n">key</span>=<span class="s2">"REMOTE"</span>
        <span class="n">class</span>=<span class="s2">"org.substeps.webdriver.RemoteDriverFactory"</span>
      }
    ]

    <span class="c"># array of driverFactories populated from the defaults plus any overrides specified.  Use this to provide bespoke factories
</span>    <span class="n">driverFactories</span>= [{
      <span class="n">key</span>=<span class="s2">"CHROME"</span>
      <span class="n">class</span>=<span class="s2">"org.substeps.webdriver.config.TestDriverFactory"</span>
    }]

    <span class="c"># default selenium wait time (for locating elements)
</span>    <span class="n">default</span>.<span class="n">timeout</span>.<span class="n">secs</span>=<span class="m">5</span>

    <span class="c"># log the pagesource if there is an error. NB. no good for JS heavy apps
</span>    <span class="n">log</span>.<span class="n">pagesource</span>.<span class="n">onerror</span>=<span class="n">false</span>

    <span class="c"># ability to disable JS in HTMLUnit
</span>    <span class="n">htmlunit</span>{
      <span class="n">disable</span>.<span class="n">javascript</span>=<span class="n">false</span>
    }

    <span class="c"># configure the browsers to use a proxy. Will be set if the host string is not empty
</span>    <span class="n">network</span>.<span class="n">proxy</span>.<span class="n">host</span>=<span class="s2">""</span>

    <span class="c"># proxy through which to run the browser
</span>    <span class="n">network</span>.<span class="n">proxy</span>.<span class="n">port</span>=<span class="m">8080</span>

    <span class="c"># choose either maximise or specify a size to re-size browser windows on opening on
</span>    <span class="n">window</span> {
      <span class="n">maximise</span> = <span class="n">true</span>
      <span class="c"># or
</span>      <span class="n">width</span>=<span class="m">500</span>
      <span class="n">height</span>=<span class="m">500</span>
    }

    <span class="c"># maps to WebdriverReuseStategy, upper cased and '-' replaced by '_'
</span>    <span class="n">reuse</span>-<span class="n">strategy</span> = <span class="s2">"shutdown_and_create_new"</span>

    <span class="c"># Possible values:
</span>    <span class="c">#  shutdown_and_create_new = terminate the webdriver after every scenario
</span>
    <span class="c">#  reuse_unless_error_keep_visuals_in_error = keep re-using the webdriver unless there's an error,
</span>                            <span class="c"># in which case, keep the browser open (for debugging) and create a new one
</span>
    <span class="c">#  reuse_unless_error = keep re-using the webdriver unless there's an error in which case close
</span>
    <span class="c">#  leave_and_create_new = don't ever close the  browser and create new each time
</span>
    <span class="c"># NB. Only keep browsers open in local dev environments otherwise you'll exhaust resources on CI.
</span>  }
}
</code></pre></div></div>


          </div>
        </div>
      </div>
    </div>

    <footer class="new-footer">
  <div class="container">
    <div class="row">
      <div class="col-sm-8 col-sm-offset-2">

        <p class="text-center">
          &copy; 2016 Substeps. All rights reserved.  Last published on 24-02-2020 22:34
        </p>


      </div>
    </div>
  </div>
</footer>


    <script src="/assets/js/prism-coy.js"></script>


    <script>

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-73204026-1', 'auto');
    ga('send', 'pageview');

</script>

  </body>
</html>
